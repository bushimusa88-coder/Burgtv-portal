<!-- 
ISTRUZIONI PER FIXARE IL PORTAL:

1. Vai su: https://github.com/bushimusa88-coder/burgtv-portal/edit/main/index.html
2. Cerca e sostituisci SOLO queste parti:

-->

<!-- FIX #1: Cerca questa funzione validateM3uUrl (circa linea 1507) -->
<!-- VECCHIO CODICE: -->
async function validateM3uUrl(url) {
    // Skip validation for URLs with query parameters (dynamic IPTV URLs)
    if (url.includes('?') && url.includes('username') && url.includes('password')) {
        console.log('Skipping validation for dynamic IPTV URL with credentials');
        return { isValid: true };
    }

<!-- NUOVO CODICE: -->
async function validateM3uUrl(url) {
    // Skip validation for URLs with query parameters (dynamic IPTV URLs)
    if (url.includes('?') && (url.includes('username') || url.includes('password') || url.includes('type=m3u'))) {
        console.log('Skipping validation for dynamic IPTV URL with credentials');
        return { isValid: true };
    }

<!-- ============================================ -->

<!-- FIX #2: Se ancora non funziona, trova handleSubmit (circa linea 1429) -->
<!-- E DOPO questa linea: -->
const m3uUrlInput = document.getElementById('m3uUrl').value.trim();

<!-- AGGIUNGI: -->
// Force skip validation for dynamic URLs
console.log('Processing URL:', m3uUrlInput);

<!-- E PRIMA di questa linea: -->
const formData = {

<!-- AGGIUNGI: -->
// Bypass validation for URLs with parameters
if (m3uUrlInput.includes('?')) {
    console.log('Dynamic URL detected, bypassing additional validation');
}

<!-- ============================================ -->

<!-- FIX #3 ALTERNATIVO: Se vuoi disabilitare COMPLETAMENTE la validazione dell'URL -->
<!-- Trova validateForm (circa linea 1388) e SOSTITUISCI: -->

// VECCHIO:
if (!m3uUrl.startsWith('http://') && !m3uUrl.startsWith('https://')) {
    showAlert(t.invalidM3u, 'error');
    return false;
}

// NUOVO (pi√π permissivo):
if (!m3uUrl.includes('http')) {
    showAlert(t.invalidM3u, 'error');
    return false;
}